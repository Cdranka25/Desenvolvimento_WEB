document.addEventListener("DOMContentLoaded", function () {

    const palavraSecreta = palavras[Math.floor(Math.random() * palavras.length)].toUpperCase();

    const input = document.getElementById("inputTexto");
    const buttonConfirmar = document.getElementById("separar");
    const buttonReiniciar = document.getElementById("reiniciar");
    const titulo = document.getElementById("tituloJogo");
    const audioAcerto = new Audio('../audio/Bugle Tune.mp3');
    const audioQuase = new Audio('../audio/Metallic Clank.mp3');
    const audioFim = new Audio('../audio/533034__evretro__8-bit-game-over-soundtune.wav');

    let tentativaAtual = 0;

    function validarPalpite() {
        const palpite = input.value.toUpperCase();
        console.log(`Tentativa: ${palpite}`);

        if (palpite.length !== 5) {
            audioQuase.play();
            alert("Digite uma palavra de 5 letras.");
            return;
        }

        const linha = document.querySelectorAll("table tr")[tentativaAtual];

        for (let i = 0; i < 5; i++) {
            const celula = linha.children[i];
            celula.textContent = palpite[i];

            if (palpite[i] === palavraSecreta[i]) {
                celula.style.backgroundColor = "green";
            } else if (palavraSecreta.includes(palpite[i])) {
                celula.style.backgroundColor = "yellow";
            } else {
                celula.style.backgroundColor = "grey";
            }
        }

        if (palpite !== palavraSecreta) {
            audioQuase.play();
        }

        if (palpite === palavraSecreta) {
            audioAcerto.play();
            titulo.textContent = "Parabéns!";
            titulo.style.color = "green";

            for (let i = 0; i < 5; i++) {
                linha.children[i].classList.add("correto");
            }
        } else {
            tentativaAtual++;
            if (tentativaAtual === 6) {
                titulo.textContent = `Game Over - A palavra era "${palavraSecreta}"`;
                titulo.style.color = "red";
                audioFim.play();
            }
        }

        input.value = "";
    }

    function reiniciarJogo() {
        location.reload(); // ou lógica para reiniciar sem recarregar a página
    }

    buttonConfirmar.addEventListener("click", validarPalpite);
    buttonReiniciar.addEventListener("click", reiniciarJogo);

    input.addEventListener("keydown", function (event) {
        if (event.key === "Enter") {
            validarPalpite();
        }
    });

});

const palavras = [
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"impar",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"ponto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",

"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar",
"banho",
"casal",
"dados",
"feroz",
"ganho",
"honra",
"idade",
"janela",
"lutar",
"moeda",
"navio",
"olhos",
"pacto",
"rasgo",
"servo",
"troca",
"vozes",
"abuso",
"barco",
"cegas",
"digno",
"exato",
"feios",
"grito",
"humor",
"jogar",
"livro",
"magia",
"nobre",
"obter",
"prato",
"rifar",
"salto",
"tarde",
"vasto",
"zebra",
"ecoar",
"livre",
"massa",
"norte",
"poder",
"quero",
"sorte",
"trama",
"vinho",
"vidas",
"verde",
"viver",
"vazio",
"preto",
"porta",
"prado",
"pedra",
"folga",
"chuva",
"cedro",
"risco",
"linha",
"fruta",
"praia",
"trago",
"truco",
"plano",
"misto",
"negar",
"solar",
"cifra",
"haste",
"penso",
"valer",
"vigor",
"limpo",
"forno",
"clima",
"metal",
"festa",
"custa",
"nariz",
"tosco",
"dizer",
"saber",
"fecho",
"matar",
"carta",
"pular",
"amplo",
"amigo",
"brisa",
"canto",
"dente",
"feliz",
"garra",
"imune",
"junto",
"lento",
"mente",
"nuvem",
"ossos",
"pardo",
"quase",
"roupa",
"sinal",
"tocar",
"velha",
"andar"
];
